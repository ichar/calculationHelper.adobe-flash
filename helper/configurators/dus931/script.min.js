// Script.js
// Generated by Helpgen.py, version 2.37 beta © 
// Date: 2014-09-13 07:49
var gids=new Array('SquareWidth_List','SquareWidth_up','SquareHeight_List','SquareHeight_up','SquareAperture','SquareClearanceGroupTitle_1','SquareClearance','SquareClearance_up','Opening_Outside','Opening_Inside','Hinge_Left','Hinge_Right','AssemblyGroupTitle_1','AssemblyType_List','assemblyType_up','OuterColorStandard','OuterColor_List','OuterColor_Custom','OuterColor_Value','outerColor_up','ColorType_Glossy','ColorType_Mat','WithLock_List','withLock_up','ExpendableMaterials_DHA','ExpendableMaterials_DHA_Count','Packaging_Cardboard','Packaging_Wood','Note');var gattrs ={'SquareWidth_List':{'kind':'POP-UP MENU','type':'LIST','subgroup':'square_group'},'SquareWidth_up':{'kind':'CONSTANT','type':'NUMBER','subgroup':'square_group'},'SquareHeight_List':{'kind':'POP-UP MENU','type':'LIST','subgroup':'square_group'},'SquareHeight_up':{'kind':'CONSTANT','type':'NUMBER','subgroup':'square_group'},'SquareAperture':{'kind':'LABEL','type':'STRING','subgroup':'square_group'},'SquareClearanceGroupTitle_1':{'kind':'DISPLAY FIELD','type':'STRING','subgroup':'square_clearance_group'},'SquareClearance':{'kind':'SIMPLE INPUT','type':'NUMBER','subgroup':'square_clearance_group'},'SquareClearance_up':{'kind':'CONSTANT','type':'NUMBER','subgroup':'square_clearance_group'},'Opening_Outside':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'shield_opening_group'},'Opening_Inside':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'shield_opening_group'},'Hinge_Left':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'hinge_group'},'Hinge_Right':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'hinge_group'},'AssemblyGroupTitle_1':{'kind':'DISPLAY FIELD','type':'STRING','subgroup':'assembly_group'},'AssemblyType_List':{'kind':'POP-UP MENU','type':'LIST','subgroup':'assembly_group'},'assemblyType_up':{'kind':'CONSTANT','type':'STRING','subgroup':'assembly_group'},'OuterColorStandard':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'outer_color_group'},'OuterColor_List':{'kind':'POP-UP MENU','type':'LIST','subgroup':'outer_color_group'},'OuterColor_Custom':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'outer_color_group'},'OuterColor_Value':{'kind':'INPUT FIELD','type':'NUMBER','subgroup':'outer_color_group'},'outerColor_up':{'kind':'CONSTANT','type':'STRING','subgroup':'outer_color_group'},'ColorType_Glossy':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'color_type_group'},'ColorType_Mat':{'kind':'RADIOBUTTON','type':'BOOLEAN','subgroup':'color_type_group'},'WithLock_List':{'kind':'POP-UP MENU','type':'LIST','subgroup':'lock_group'},'withLock_up':{'kind':'CONSTANT','type':'STRING','subgroup':'lock_group'},'ExpendableMaterials_DHA':{'kind':'CHECKBOX','type':'BOOLEAN','subgroup':'expendable_materials_group'},'ExpendableMaterials_DHA_Count':{'kind':'INPUT FIELD','type':'NUMBER','subgroup':'expendable_materials_group'},'Packaging_Cardboard':{'kind':'CHECKBOX','type':'BOOLEAN','subgroup':'packaging_group'},'Packaging_Wood':{'kind':'CHECKBOX','type':'BOOLEAN','subgroup':'packaging_group'},'Note':{'kind':'INPUT AREA','type':'STRING','subgroup':'note_group'}};var minSquareClearance=10;var maxSquareClearance=200;var construct_default=0;var Compound_Default=true;var Compound_GateOnly=false;var SquareWidth_List='';var SquareWidth_up=0;var SquareHeight_List='';var SquareHeight_up=0;var SquareAperture='';var SquareClearanceGroupTitle_1='';var SquareClearance=0;var SquareClearance_up=0;var Opening_Outside=false;var Opening_Inside=true;var Hinge_Left=false;var Hinge_Right=true;var AssemblyGroupTitle_1='';var AssemblyType_List='';var assemblyType_up='';var OuterColorStandard=true;var OuterColor_List='';var OuterColor_Custom=false;var OuterColor_Value=0;var outerColor_up='';var OuterColorNonStandard=false;var OuterColorGroupTitle_1='';var ColorType_Glossy=true;var ColorType_Alkyd=false;var ColorType_Mat=false;var WithLock_List='';var withLock_up='';var ExpendableMaterials_DHA=false;var ExpendableMaterials_DHA_Count=0;var Packaging_Styrofoam=false;var Packaging_Cardboard=false;var Packaging_Wood=false;var Note='';$(document).ready(function(){$Init(); });function MainBrains(){wizardID='FenceWicketDUS931';var country_path='';var now=new Date();var IsDebug=false;var IsDeepDebug=false;var IsLoad=false;var IsForcedValidation=false;var validation_disable=false;var prices_disable=false;isWorkWithout1C=false;var common_image='';var image='default.jpg';NoticeMessage="";var country=countryID?countryID.toUpperCase():'';country_path='';var string_delimeter='x';image='default.jpg';var defaultImage=image;function setDefaultImage(){} var shield_enabled=1;var power_rack_enabled=1;var square_width=0;function initSquareWidth(){SquareWidth_List=listSquareWidth;if(default_width) SquareWidth_List=setListSelectedIndexById(SquareWidth_List, default_width);}function checkStatusOfSquareWidth(){objectStatus["SquareWidth_List"]=1;}function setSquareWidth(){SquareWidth_up=getListSelectedItem(SquareWidth_List, 0);square_width=Number(SquareWidth_up);}var square_height=0;function initSquareHeight(){SquareHeight_List=listSquareHeight;if(default_height) SquareHeight_List=setListSelectedIndexById(SquareHeight_List, default_height);}function checkStatusOfSquareHeight(){objectStatus["SquareHeight_List"]=1;}function setSquareHeight(){SquareHeight_up=getListSelectedItem(SquareHeight_List, 0);square_height=Number(SquareHeight_up);}var square_aperture=0;objectStatus["SquareClearanceGroupTitle_1"]=1;var with_assembly=false;var selected_assembly_code='';function checkStatusOfAssemblyType(){objectStatus["AssemblyTypeTitle_1"]=objectStatus["AssemblyType_List"]=1;}function setAssemblyType(){var x=getListSelectedValue(AssemblyType_List);assemblyType_up=x[0];selected_assembly_code=x[2];with_assembly=assemblyType_up&&assemblyType_up!='no'?true:false;}objectStatus["AssemblyGroupTitle_1"]=1;var no_sandwich_panel=false;var shield_outer_enable=false;var inner_equal_outer=false;var selected_outer_color='';function initOuterColor(){if(OuterColorStandard){OuterColor_List=listOuterColorStandard;}else if(OuterColorNonStandard){OuterColor_List=listOuterColorNonStandard;if(default_outer_color_nonstandard) OuterColor_List=setListSelectedIndexById(OuterColor_List, default_outer_color_nonstandard);}else if(OuterColor_Custom&&default_outer_color_custom&&!OuterColor_Value){OuterColor_Value=parseInt(default_outer_color_custom);}} function checkStatusOfOuterColor(){shield_outer_enable=true;var enable_by_default=1;objectStatus["OuterColorStandard"]=enable_by_default;objectStatus["OuterColorNonStandard"]=enable_by_default;objectStatus["OuterColor_Custom"]=enable_by_default;objectStatus["OuterColor_List"]=!OuterColor_Custom?enable_by_default:0;objectStatus["OuterColor_Value"]=OuterColor_Custom?enable_by_default:0;inner_equal_outer=true;}function setOuterColor(){if(OuterColor_Custom) outerColor_up=OuterColor_Value.toString();else outerColor_up=getListSelectedItem(OuterColor_List, 0);selected_outer_color=outerColor_up;}var with_lock=false;var selected_lock_code='';var selected_handle_code='';function checkStatusOfWithLock(){objectStatus["WithLockTitle_1"]=objectStatus["WithLock_List"]=shield_enabled?1:0;}function setWithLock(){var x=getListSelectedValue(WithLock_List);withLock_up=x[0];with_lock=withLock_up&&withLock_up!='no'?true:false;if(with_lock){var codes=x[2].split(':');selected_lock_code=codes[0];selected_handle_code=codes[1];}} function checkStatusOfDHA(){objectStatus["ExpendableMaterials_DHA_Count"]=ExpendableMaterials_DHA?1:0;}function checkColorListMatched(outer, colors, index){var selected_index=getListSelectedIndex(outer);var item=getListItem(outer, selected_index);if(!item||item.length<1) return false;var name=item[0];var color=name.split(' ');if(color.length<index+1) return false;var code=color[index];if(!code) return false;return colors.indexOf(code)==-1?false:true;}function addColorMargins(outer, lst, index){for (var i=0;i<lst.length;i++){var x=lst[i].split(':');if(x.length>1){var colors=strip(x[0]).split('-');var margin=strip(x[1]);if(colors.length>0&&margin&&checkColorListMatched(outer, colors, index)){margins=addMargin(margins, [margin,'NUMBER', 796, 1]);}}}} if(IsDebug) NoticeMessage += "DEBUG: scriptExecCount ["+scriptExecCount+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: changedFormFieldID ["+changedFormFieldID+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: isConfirmation ["+isConfirmation+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: confirmCode ["+confirmCode+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: withoutRestriction ["+withoutRestriction+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: currentLocale ["+currentLocale+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: defaultProduct ["+defaultProduct+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: priceTypeID ["+priceTypeID+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: constSavedImage ["+constSavedImage+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: helperVersion ["+helperVersion+"]<br>";if(IsDebug) NoticeMessage += "DEBUG: wizardID ["+wizardID+"]<br>";if(!scriptExecCount){scriptExecCount=0;initSquareWidth();initSquareHeight();SquareClearance=default_square_clearance;AssemblyType_List=listAssemblyType;if(default_with_assembly) AssemblyType_List=setListSelectedIndexById(AssemblyType_List, default_with_assembly);OuterColorStandard=true;initOuterColor();WithLock_List=listWithLock;if(default_with_lock) WithLock_List=setListSelectedIndexById(WithLock_List, default_with_lock);}else if(scriptExecCount>0&&!changedFormFieldID){IsLoad=true;if(!SquareWidth_up) SquareWidth_up=default_width;SquareWidth_List=setListSelectedIndexById(SquareWidth_List, SquareWidth_up);if(!SquareHeight_up) SquareHeight_up=default_height;SquareHeight_List=setListSelectedIndexById(SquareHeight_List, SquareHeight_up);SquareClearance=SquareClearance_up?SquareClearance_up:default_square_clearance;if(IsDebug) NoticeMessage += "LOAD DEBUG: AssemblyType Index ["+getListSelectedIndex(AssemblyType_List)+"]<br>";initOuterColor();if(outerColor_up){if(OuterColor_Custom) OuterColor_Value=outerColor_up;else OuterColor_List=setListSelectedIndexById(OuterColor_List, outerColor_up);}if(IsDebug) NoticeMessage += "LOAD DEBUG: WithLock Index ["+getListSelectedIndex(WithLock_List)+"]<br>";if(ExpendableMaterials_DHA_Count) ExpendableMaterials_DHA=true;if(constSavedImage&&constSavedImage!=defaultImage&&scriptExecCount>0) image=constSavedImage;}setSquareWidth();setSquareHeight();construct_default=1;if(changedFormFieldID){if(['SquareWidth_List','SquareHeight_List','SquareClearance'].indexOf(changedFormFieldID)>-1){image='square.jpg';}var ids=new Array('OuterColorStandard','OuterColorNonStandard','OuterColor_Custom','OuterDesign_List');if(ids.indexOf(changedFormFieldID)>-1){initOuterColor();}} if(scriptExecCount>0&&IsExist('helperProductControl')&&helperProductControl['active']){} if(helperErrorCode==0){square_aperture=(square_width*square_height) / 1000000;SquareAperture=roundNumber(square_aperture, 2, false);SquareClearance_up=SquareClearance;setAssemblyType();setOuterColor();if(scriptExecCount) WithLock_List=blockItems('WithLock_List', selected_outer_color=='6005'?['AHR24-R00']:['AHR24-R004'], listWithLock);setWithLock();checkStatusOfDHA();}var ids=new Array('');if(!IsStringStartedWith(changedFormFieldID,'Compound_')&&(image==defaultImage||!image)){if(IsStringStartedWith(changedFormFieldID,'Drive')||IsStringStartedWith(changedFormFieldID,'AdditionalDevices_')||IsStringStartedWith(changedFormFieldID,'ExpendableMaterials_') ) image=defaultImage;else image=constSavedImage&&constSavedImage!=defaultImage&&ids.indexOf(changedFormFieldID)==-1?constSavedImage:defaultImage;}if(['Opening_Outside','Opening_Inside','Hinge_Left','Hinge_Right'].indexOf(changedFormFieldID)>-1){image=(Opening_Outside?'opening-outside-':'opening-inside-')+(Hinge_Left?'left':'right')+'.jpg';}if(['AssemblyType_List'].indexOf(changedFormFieldID)>-1){image='assembly-'+assemblyType_up+'.jpg';}var ids=new Array('OuterColorStandard','OuterColorNonStandard','OuterColor_List','ColorType_Mat','ColorType_Glossy');if(ids.indexOf(changedFormFieldID)>-1){image=!OuterColor_Custom&&parseInt(outerColor_up)>0?('color-'+outerColor_up+'.jpg'):defaultImage;}if(['OuterColor_Custom','OuterColor_Value'].indexOf(changedFormFieldID)>-1&&IsTrue('OuterColor_Custom')) image='ral.jpg';if(['WithLock_List'].indexOf(changedFormFieldID)>-1&&with_lock){image=withLock_up+'.jpg';}if(['ExpendableMaterials_DHA'].indexOf(changedFormFieldID)>-1) image='DHA.jpg';if((IsForcedValidation||(scriptExecCount>0&&!IsLoad))&&!validation_disable&&!withoutRestriction){if(SquareClearance<minSquareClearance||SquareClearance>maxSquareClearance){helperErrorCode=-3;helperErrorMessage=SquareClearanceMessage;}} constSavedImage=image;if(IsDebug){NoticeMessage += "DEBUG: country_path ["+country_path+"]<br>"+"DEBUG: regionID ["+regionID+"]<br>"+"DEBUG: helperHostName ["+helperHostName+"]<br>"+"DEBUG: image ["+image+"]<br>" ;}checkStatusOfSquareWidth();checkStatusOfSquareHeight();checkStatusOfAssemblyType();checkStatusOfOuterColor();checkStatusOfWithLock();if(!prices_disable&&helperErrorCode==0){margins=addExtraMargin(margins, ['00000145499','STRING', 796, 1]);if(shield_enabled&&OuterColor_Custom&&parseInt(OuterColor_Value)>0) margins=addMargin(margins, ['00000011685','NUMBER', 55, square_aperture]);if(with_lock&&selected_lock_code) margins=addExtraMargin(margins, [selected_lock_code,'STRING', 796, 1]);if(with_lock&&selected_handle_code) margins=addExtraMargin(margins, [selected_handle_code,'STRING', 796, 1]);if(with_lock&&selected_lock_code=='00000131045') margins=addExtraMargin(margins, ['00000129360','STRING', 796, 1]);if(IsDeepDebug){NoticeMessage += "DEEPDEBUG: construct:<br>";NoticeMessage += "==> construct_default ["+construct_default+"]<br>";NoticeMessage += "==> defaultConstruct ["+defaultConstruct+"]<br>";NoticeMessage += "==> defaultConstructCount ["+defaultConstructCount+"]<br>";var lst=getList(margins);if(lst.length){NoticeMessage += "DEEPDEBUG: margins:<br>";for (var i=0;i<lst.length;i++){NoticeMessage += "==> ["+lst[i]+"]<br>";}}}} var IsTrace=false;if(IsTrace){NoticeMessage="***<br>"+NoticeMessage;}if(prices_disable) attentionMessage=getSystemOption('prices_disable', currentLocale)+attentionMessage;if(validation_disable) attentionMessage=getSystemOption('validation_disable', currentLocale)+attentionMessage;if(isWorkWithout1C) attentionMessage=getSystemOption('isWorkWithout1C', currentLocale)+attentionMessage;if(withoutRestriction) attentionMessage=getSystemOption('withoutRestriction', currentLocale)+attentionMessage;if(IsDebug||IsDeepDebug) attentionMessage=getSystemOption('Debug', currentLocale)+attentionMessage;if(IsDeepDebug){NoticeMessage += "DEEPDEBUG: total images:"+imagePath.length+"<br>"+"DEEPDEBUG: imagePath:"+"<br>";for (var i=0;i<imagePath.length;i++){NoticeMessage += "==> ["+imagePath[i]+"]<br>";}NoticeMessage += "DEEPDEBUG: imageVisibility:"+imageVisibility.toString()+"<br>"+"DEEPDEBUG: imageX:"+imageX.toString()+"<br>"+"DEEPDEBUG: imageY:"+imageY.toString()+"<br>";}setImageURI=common_image?'images/'+common_image+'/'+image:country_path+default_image+image;if(IsDeepDebug){NoticeMessage += "DEEPDEBUG: setImageURI:"+setImageURI+"<br>";}++scriptExecCount;NoticeMessage += (NoticeMessage?'<br>':'')+'*** <br>Generated by Helpgen.py, version 2.37 beta © <br>Product Release 1.00 41827.0<br>Date: 2014-09-13 07:49'}

